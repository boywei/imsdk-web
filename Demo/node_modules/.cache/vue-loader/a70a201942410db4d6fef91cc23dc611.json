{"remainingRequest":"/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/src/components/message/trtc-calling/group-member-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/src/components/message/trtc-calling/group-member-list.vue","mtime":1648707124000},{"path":"/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapState } from 'vuex'\nexport default {\n  props:['type'],\n  data() {\n    return {\n      callingList:[],\n      addGroupMemberVisible: false,\n      currentMemberID: '',\n      count: 30 // 显示的群成员数量\n    }\n  },\n  components: {\n  },\n  computed: {\n    ...mapState({\n      userID: state => state.user.userID,\n      currentConversation: state => state.conversation.currentConversation,\n      currentMemberList: state => state.group.currentMemberList\n    }),\n    showLoadMore() {\n      return this.members.length < this.currentConversation.groupProfile.memberCount\n    },\n    members() {\n      return this.currentMemberList.slice(0, this.count)\n    }\n  },\n  methods: {\n    handleCheckedMembersChange() {\n      this.$emit('getList',this.callingList)\n    },\n    getGroupMemberAvatarText(role) {\n      switch (role) {\n        case 'Owner':\n          return '群主'\n        case 'Admin':\n          return '管理员'\n        default:\n          return '群成员'\n      }\n    },\n    loadMore() {\n      this.$store\n        .dispatch('getGroupMemberList', this.groupProfile.groupID)\n        .then(() => {\n          this.count += 30\n        })\n    }\n  }\n}\n",{"version":3,"sources":["group-member-list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"group-member-list.vue","sourceRoot":"src/components/message/trtc-calling","sourcesContent":["<template>\n    <div class=\"group-member-list-wrapper\">\n        <div class=\"header\">\n            <span class=\"member-count text-ellipsis\">群成员：{{currentConversation.groupProfile.memberCount}}</span>\n        </div>\n        <div class=\"scroll-content\">\n            <div class=\"group-member-list\">\n                <el-checkbox-group v-model=\"callingList\" @change=\"handleCheckedMembersChange\">\n                    <el-checkbox v-if=\"type === 'groupAt'\"  :label=\"JSON.stringify({userID:this.TIM.TYPES.MSG_AT_ALL,nick:'所有人'})\" >\n                        <div class=\"group-member\">\n                            <avatar  :src=\"''\" />\n                            <div class=\"member-name text-ellipsis\">\n                                <span >所有人</span>\n                            </div>\n                        </div>\n                    </el-checkbox>\n                    <el-checkbox v-for=\"member in members\" :disabled=\"member.userID===userID\" :label=\"JSON.stringify({userID:member.userID,nick:member.nameCard || member.nick || member.userID})\" :key=\"member.userID\">\n                       <div class=\"group-member\">\n                           <avatar  :src=\"member.avatar\" />\n                           <div class=\"member-name text-ellipsis\">\n                               <span v-if=\"member.nameCard\" >{{ member.nameCard }}</span>\n                               <span v-else-if=\"member.nick\" >{{ member.nick }}</span>\n                               <span v-else >{{ member.userID }}</span>\n                           </div>\n                       </div>\n                    </el-checkbox>\n                </el-checkbox-group>\n            </div>\n        </div>\n        <div class=\"more\">\n            <el-button v-if=\"showLoadMore\" type=\"text\" @click=\"loadMore\">查看更多</el-button>\n        </div>\n    </div>\n</template>\n\n<script>\n  import { mapState } from 'vuex'\n  export default {\n    props:['type'],\n    data() {\n      return {\n        callingList:[],\n        addGroupMemberVisible: false,\n        currentMemberID: '',\n        count: 30 // 显示的群成员数量\n      }\n    },\n    components: {\n    },\n    computed: {\n      ...mapState({\n        userID: state => state.user.userID,\n        currentConversation: state => state.conversation.currentConversation,\n        currentMemberList: state => state.group.currentMemberList\n      }),\n      showLoadMore() {\n        return this.members.length < this.currentConversation.groupProfile.memberCount\n      },\n      members() {\n        return this.currentMemberList.slice(0, this.count)\n      }\n    },\n    methods: {\n      handleCheckedMembersChange() {\n        this.$emit('getList',this.callingList)\n      },\n      getGroupMemberAvatarText(role) {\n        switch (role) {\n          case 'Owner':\n            return '群主'\n          case 'Admin':\n            return '管理员'\n          default:\n            return '群成员'\n        }\n      },\n      loadMore() {\n        this.$store\n          .dispatch('getGroupMemberList', this.groupProfile.groupID)\n          .then(() => {\n            this.count += 30\n          })\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" scoped>\n    .group-member-list-wrapper\n        .header\n            height 50px\n            padding 10px 16px 10px 20px\n            border-bottom 1px solid $border-base\n            .member-count\n                display inline-block\n                max-width 130px\n                line-height 30px\n                font-size 14px\n                vertical-align bottom\n            .btn-add-member\n                width 30px\n                height 30px\n                font-size 28px\n                text-align center\n                line-height 32px\n                cursor pointer\n                float right\n                &:hover\n                    color $light-primary\n        .scroll-content\n            max-height: 250px;\n            overflow-y: scroll;\n            padding 10px 15px 10px 15px\n            width 100%\n            .group-member-list\n                display flex\n                justify-content flex-start\n                flex-wrap wrap\n                width 100%\n            .group-member\n                width 100px\n                height 80px\n                display: flex;\n                justify-content center\n                align-content center\n                flex-direction: column;\n                text-align: center;\n                color: $black;\n                cursor: pointer;\n                .avatar\n                    width 40px\n                    height 40px\n                    border-radius 50%\n                    margin 0 auto\n                .member-name\n                    font-size 12px\n                    width: 100px;\n                    text-align center\n        .more\n            padding 0 20px\n            border-bottom 1px solid $border-base\n\n\n</style>\n"]}]}