{"remainingRequest":"/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/src/components/group-live/components/live-header.vue?vue&type=style&index=0&id=318cab2c&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/src/components/group-live/components/live-header.vue","mtime":1648707124000},{"path":"/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wei/IdeaProjects/boywei/imsdk-web/Demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.header-container {\n  position absolute\n  left 0\n  top 0\n  width 100%\n  height 100%\n  box-sizing border-box\n  z-index 99\n  padding 10px 10px 10px 20px\n .anchor-info {\n   position absolute\n   top 50%\n   transform translateY(-50%)\n   width 200px\n   height 50px\n   background rgba(255, 255 ,255 ,0.1)\n   border-radius 30px\n   display flex\n   align-items center\n   .anchor-avatar {\n     width 50px\n     height 50px\n     border-radius 50%\n     margin 0 5px\n   }\n   .anchor-other {\n     height 100%\n     flex 1\n     p {\n       margin 0\n     }\n     .anchor-nick{\n       max-width 140px\n       margin 6px 0 0 0\n       color: #ffffff\n       font-weight 500\n       word-break keep-all\n       overflow hidden\n       text-overflow ellipsis\n       white-space nowrap\n     }\n     .online-num{\n       font-size 14px\n       font-weight 400\n       color #d2cbcbad\n     }\n   }\n }\n .online-info {\n   position absolute\n   left 50%\n   top 50%\n   transform translate(-50%, -50%)\n   height 50px\n   color #fff\n   display flex\n   align-items center\n   .room-name{\n     display inline-block\n     max-width 160px\n     overflow hidden\n     white-space nowrap\n     text-overflow ellipsis\n     margin 0\n     padding 0 0 0 10px\n   }\n   .living-icon{\n     position relative\n     top -3px\n     margin 0 5px\n     width 25px\n   }\n   span {\n     margin 2px 0 0 0\n   }\n }\n .close-box {\n   position absolute\n   right 0\n   top 0px\n   width 70px\n   height 70px\n   color: #959798\n   font-size 36px\n   cursor pointer\n   display flex\n   align-items center\n   justify-content center\n }\n}\n",{"version":3,"sources":["live-header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"live-header.vue","sourceRoot":"src/components/group-live/components","sourcesContent":["<template>\n  <div class=\"header-container\">\n    <div v-show=\"showLiveInfo\">\n      <div class=\"anchor-info\">\n        <img class=\"anchor-avatar\" :src=\"avatar\">\n        <div class=\"anchor-other\">\n          <p class=\"anchor-nick\">{{nick}}</p>\n          <p class=\"online-num\">在线：{{onlineMemberCount}}</p>\n        </div>\n      </div>\n      <div class=\"online-info\">\n        <p class=\"room-name\">直播中</p>\n        <img class=\"living-icon\" src=\"../../../assets/image/living-icon.gif\" />\n        <span>{{` ${pusherTime}`}}</span>\n      </div>\n    </div>\n    <div class=\"close-box\" @click=\"closeLiveMask\">\n      <i class=\"el-icon-circle-close\"></i>\n    </div>\n  </div>\n</template>\n\n<script>\n import { mapState } from 'vuex'\n  export default {\n    name: 'liveHeader',\n    props: {\n      fr: {\n        type: String,\n        requred: true\n      },\n      isPushingStream: {\n        type: Boolean,\n        default: false\n      },\n      stopPushStream: {\n        type: Function\n      },\n      pusherTime: {\n        type: String,\n        default: ''\n      }\n    },\n    data() {\n      return {\n        nick: '',\n        avatar: 'https://imgcache.qq.com/open/qcloud/video/act/webim-avatar/avatar-2.png',\n        onlineMemberCount: 0,\n        timer: null,\n        onlineList: []\n      }\n    },\n    computed: {\n      ...mapState({\n        groupLiveInfo: state => state.groupLive.groupLiveInfo\n      }),\n      showLiveInfo() {\n        return (this.fr === 'pusher' && this.isPushingStream) || this.fr === 'player'\n      },\n      roomName() {\n        return this.groupLiveInfo.roomName || `${this.groupLiveInfo.anchorID}的直播`\n      }\n    },\n    mounted() {\n      this.getAnchorProfile()\n      if (this.fr === 'player') {\n        this.timer = setInterval(() => {\n          this.getGroupOnlineMemberCount()\n        }, 5000)\n      }\n    },\n    beforeDestroy() {\n      this.timer && clearInterval(this.timer)\n    },\n    methods: {\n      closeLiveMask() {\n        if (this.fr === 'pusher') {\n          this.stopPushStream()\n          return\n        }\n        this.$store.commit('updateGroupLiveInfo', { isNeededQuitRoom: 1 })\n        this.$bus.$emit('close-group-live')\n      },\n      async getAnchorProfile() {\n        const res = await this.tim.getUserProfile({userIDList: [this.groupLiveInfo.anchorID]})\n        if (res.code === 0) {\n          this.nick = res.data[0].nick || res.data[0].userID\n          this.avatar = res.data[0].avatar || 'https://imgcache.qq.com/open/qcloud/video/act/webim-avatar/avatar-2.png'\n        }\n      },\n      async getGroupOnlineMemberCount() {\n        const res = await this.tim.getGroupOnlineMemberCount(this.groupLiveInfo.roomID)\n        if (res.code === 0 && res.data) {\n          this.onlineMemberCount = res.data.memberCount\n        }\n      }\n    },\n    watch: {\n      isPushingStream: function(val) {\n        if (val && this.fr === 'pusher') {\n          this.timer = setInterval(() => {\n            this.getGroupOnlineMemberCount()\n          }, 5000)\n        }\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" scoped>\n .header-container {\n   position absolute\n   left 0\n   top 0\n   width 100%\n   height 100%\n   box-sizing border-box\n   z-index 99\n   padding 10px 10px 10px 20px\n  .anchor-info {\n    position absolute\n    top 50%\n    transform translateY(-50%)\n    width 200px\n    height 50px\n    background rgba(255, 255 ,255 ,0.1)\n    border-radius 30px\n    display flex\n    align-items center\n    .anchor-avatar {\n      width 50px\n      height 50px\n      border-radius 50%\n      margin 0 5px\n    }\n    .anchor-other {\n      height 100%\n      flex 1\n      p {\n        margin 0\n      }\n      .anchor-nick{\n        max-width 140px\n        margin 6px 0 0 0\n        color: #ffffff\n        font-weight 500\n        word-break keep-all\n        overflow hidden\n        text-overflow ellipsis\n        white-space nowrap\n      }\n      .online-num{\n        font-size 14px\n        font-weight 400\n        color #d2cbcbad\n      }\n    }\n  }\n  .online-info {\n    position absolute\n    left 50%\n    top 50%\n    transform translate(-50%, -50%)\n    height 50px\n    color #fff\n    display flex\n    align-items center\n    .room-name{\n      display inline-block\n      max-width 160px\n      overflow hidden\n      white-space nowrap\n      text-overflow ellipsis\n      margin 0\n      padding 0 0 0 10px\n    }\n    .living-icon{\n      position relative\n      top -3px\n      margin 0 5px\n      width 25px\n    }\n    span {\n      margin 2px 0 0 0\n    }\n  }\n  .close-box {\n    position absolute\n    right 0\n    top 0px\n    width 70px\n    height 70px\n    color: #959798\n    font-size 36px\n    cursor pointer\n    display flex\n    align-items center\n    justify-content center\n  }\n }\n</style>\n"]}]}